<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="generator" content="Nikola (getnikola.com)">
<title>从 Markdown 到 reStructuredText（三） - MacPlay</title>
<link rel="apple-touch-icon" sizes="180x180" href="../../apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png">
<link rel="mask-icon" href="../../safari-pinned-tab.svg" color="#5bbad5">
<link href="../../assets/css/semantic.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/jquery.fancybox.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="canonical" href="https://macplay.github.io/posts/cong-markdown-dao-restructuredtextsan/">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<meta name="author" content="ashfinal">
<meta property="og:site_name" content="MacPlay">
<meta property="og:title" content="从 Markdown 到 reStructuredText（三）">
<meta property="og:url" content="https://macplay.github.io/posts/cong-markdown-dao-restructuredtextsan/">
<meta property="og:description" content="本文是《从 Markdown 到 reStructuredText》系列文章的第三篇。和 Markdown 一样，reStructuredText 也是一种易读易写的纯文本标记语言，不过功能上更加强大（而且标准统一）。如果想了解其对应于 Markdown 的基本语法，请阅读 第一篇文章 。本文继续 上一篇文章 的话题，聊一聊标记语言的样式问题，确切的说是 reStructuredText 在静态博">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2017-10-11T15:26:32+08:00">
<meta property="article:tag" content="reST">
<meta property="article:tag" content="static site">
<link rel="stylesheet" href="../../assets/css/gitalk.css">
</head>
<body>
        <div class="ui grid">
            <div class="computer only three wide column no-print">
                <div id="left-side">
                </div>
            </div>
            <div class="ten wide computer sixteen wide tablet sixteen wide mobile column">
                        <div class="ui inline cookie nag no-print">
            <span class="title">从现在开始，博客可以支持站点通告了。 O(∩_∩)O~~</span>
            <i class="close icon"></i>
        </div>
    <header id="header" class="no-print"><div class="ui grid">
        <div class="computer only tablet only sixteen wide column">
            <div class="ui large secondary stackable menu">
                <a class="header item brand-logo" href="https://macplay.github.io/">
                    MacPlay
                </a>
                        <a class="item" href="../../">Posts</a>
                        <a class="item" href="../../listings/">Code</a>
                        <a class="item" href="../../galleries/">Gallery</a>
                        <a class="item" href="../../pages/ge-ren-dong-tai/">Timeline</a>
                        <a class="item" href="../../pages/liu-yan-ban/">Messager</a>
                        <a class="item" href="../../categories/">Tags</a>
                        <a class="item" href="../../archive.html">Archive</a>
                <div class="right menu">
                    <a class="item" href="../../rss.xml"><i class="rss icon"></i>RSS</a>
                </div>
            </div>
        </div>
        <div class="mobile only sixteen wide column">
            <div class="ui fluid accordion vertical menu">
                <div class="item">
                    <a class="title">MacPlay</a>
                    <div class="content">
                                <a class="item" href="../../">Posts</a>
                                <a class="item" href="../../listings/">Code</a>
                                <a class="item" href="../../galleries/">Gallery</a>
                                <a class="item" href="../../pages/ge-ren-dong-tai/">Timeline</a>
                                <a class="item" href="../../pages/liu-yan-ban/">Messager</a>
                                <a class="item" href="../../categories/">Tags</a>
                                <a class="item" href="../../archive.html">Archive</a>
                        <a class="item" href="../../rss.xml"><i class="rss icon"></i>RSS</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    </header><main id="main"><div id="main-content">
<div class="postpage post-text page-body" itemscope="itemscope" itemtype="http://schema.org/Article">
            <h1 class="post-title" itemprop="headline">
        <a href=".">从 Markdown 到 reStructuredText（三）</a>
    </h1>

    <div class="post-meta">
        <span class="post-meta-item-icon">
            <i class="user icon"></i>
        </span>
        <span class="post-meta-item-text" itemprop="author">
            <a href="../../authors/ashfinal/">ashfinal</a>
        </span>
            <span class="post-meta-divider">|</span>
            <span class="post-meta-item-icon">
                <i class="github icon"></i>
            </span>
            <span class="post-meta-item-text">
                <a href="https://github.com/macplay/macplay.github.io/edit/src/posts/cong-markdown-dao-restructuredtextsan.rst" title="Edit on GitHub">edit</a>
            </span>
        <span class="post-meta-divider">|</span>
        <span class="post-meta-item-icon">
            <i class="calendar icon"></i>
        </span>
        <span class="post-meta-item-text">
            <a href="../../archive.html">
                <time datetime="2017-10-11T15:26:32+08:00" itemprop="datePublished" title="2017-10-11 15:26">2017-10-11 15:26
                </time></a>
        </span>
            <span class="post-meta-divider">|</span>
            <span class="post-meta-item-icon">
                <i class="tags icon"></i>
            </span>
                        <span class="post-meta-tag-item">
                            <a href="../../categories/rest/">reST</a>
                        </span>
                        <span class="post-meta-tag-item">
                            <a href="../../categories/static-site/">static site</a>
                        </span>
    </div>

    
    <div class="post-content" itemprop="article text">
        <div id="post-content">
        <div>
<p>本文是《从 Markdown 到 reStructuredText》系列文章的第三篇。和 Markdown 一样，reStructuredText 也是一种易读易写的纯文本标记语言，不过功能上更加强大（而且标准统一）。如果想了解其对应于 Markdown 的基本语法，请阅读 <a class="reference external" href="../cong-markdown-dao-restructuredtext/">第一篇文章</a> 。本文继续 <a class="reference external" href="../cong-markdown-dao-restructuredtexter/">上一篇文章</a> 的话题，聊一聊标记语言的样式问题，确切的说是 reStructuredText 在静态博客 Nikola 中的样式写法。</p>
<p>“样式？标记语言还需要考虑样式？”估计不少人心里会犯嘀咕。然而，标记语言一直强调的是 <strong>易读易写</strong> ，无需专门的商业版权软件来编辑， <strong>同时，纯文本可被转换为其它格式的文档</strong>  <a class="footnote-reference" href="#id4" id="id3">[1]</a> 。转换为其它格式多半少不了样式，样式本身有助于读者对文档内容的理解，传递赏心悦目的文档对读者本人也是一种尊重。标记语言宣称的“毋需关注样式”更多的是谴责 <strong>过分关注样式</strong> ，以至于丢掉了文档之魂——内容。</p>
<p>个人以为，标记语言自始至终贯彻的原则只有一点： <strong>内容与样式分离</strong> 。摆脱束缚用最简单的纯文本书写，而必要时又可以套用现成样式模板，导出或专业或活波……不同风格的文档方便分发。</p>
<table class="docutils footnote" frame="void" id="id4" rules="none">
<colgroup>
<col class="label">
<col>
</colgroup>
<tbody valign="top"><tr>
<td class="label"><a class="fn-backref" href="#id3">[1]</a></td>
<td>见 <a class="reference external" href="../cong-markdown-dao-restructuredtext/">第一篇文章</a> 宗旨 -&gt; reStructuredText 的预期目标</td>
</tr></tbody>
</table>
<!-- TEASER_END --><div class="contents topic" id="id5">
<p class="topic-title first">文章目录</p>
<ul class="simple">
<li><a class="reference internal" href="#id6" id="id13">从图片居中说起</a></li>
<li>
<a class="reference internal" href="#class" id="id14">Class 属性的花花世界</a><ul>
<li><a class="reference internal" href="#id9" id="id15">样式套用</a></li>
<li><a class="reference internal" href="#strikethrough" id="id16">Strikethrough（删除线）</a></li>
<li><a class="reference internal" href="#columns" id="id17">Columns（分栏）</a></li>
<li><a class="reference internal" href="#javascript" id="id18">加一点点 JavaScript</a></li>
</ul>
</li>
<li>
<a class="reference internal" href="#id10" id="id19">行内样式</a><ul>
<li><a class="reference internal" href="#id11" id="id20">上标和下标</a></li>
<li><a class="reference internal" href="#html" id="id21">行内 HTML</a></li>
<li><a class="reference internal" href="#role" id="id22">自定义 role</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id12" id="id23">结语</a></li>
</ul>
</div>
<div class="section" id="id6">
<h2><a class="toc-backref" href="#id13">从图片居中说起</a></h2>
<p>相信有不少人第一次使用 Markdown 书写文章，或者安利别人使用标记语言的时候，都会寻思或者被问到一个问题：“这个预览文章中的图片怎么不居中显示呢？”常年浸泡在多媒体中的普罗大众们，对默认居左显示的“简陋”的图片已经无法忍受了。更不用说，这些图片无法自动缩放，有时会占用比预期中大得多的篇幅。这个问题困扰了相当一部分人（包括笔者在内），经过一番搜索后个人认为找到了原因：Markdown 的大部分解析器生成 HTML 文档时，仅仅包含了基本的标签元素。</p>
<p>查阅 CSS 语法我们发现，要想对图片应用样式则必须通过 <cite>选择器</cite> ，当然你可以直接使用 <cite>元素选择器</cite> img。但这种做法有很大的弊端：当我们使用 Markdown 写静态博客时，其中包含的一些小图片（尤其是行内图片），你肯定不希望它们也居中显示。我们真正需要的是 <cite>类选择器</cite> ，标签属性 <cite>类（class）</cite> 在一定程度上说明了该图片/段落承担的“角色”，是对全文理解非常重要（important），错过该步骤会导致严重后果的信息？还是无关紧要仅仅是锦上添花的提醒（tip）？通过 <cite>类选择器</cite> 就可以对 HTML 文档进行样式调整，实现“图片居中”等效果。</p>
<p>当然笔者最后还是找到了 Markdown 下的解决方案：可以自定义标签属性 <cite>类（class）</cite> 的扩展 <a class="reference external" href="https://pythonhosted.org/Markdown/extensions/attr_list.html">Attribute Lists</a> <a class="footnote-reference" href="#id8" id="id7">[2]</a> 。然后一直使用包含该扩展的 Markdown…… 直到遇见 reStructuredText 标记语言。reStructuredText 语法也仅生成基本的 HTML 标签，但还有部分会附加上 <cite>类（class）</cite> ，再加上 reStructuredText 本身语法繁多（譬如图片就有 <cite>image</cite> 和 <cite>figure</cite> 两种），对于大多数人来说已经够用。此外，reStructuredText 毋需扩展提供了自定义 <cite>类（class）</cite> 的方法：其绝大部分 <cite>指令（Directives）</cite> 拥有选项 <cite>class</cite> ；非 <cite>指令（Directives）</cite> 没有选项可填写的，则有专门的 <cite>指令（Directives）</cite> ： <cite>class</cite> 让用户自定义。</p>
<table class="docutils footnote" frame="void" id="id8" rules="none">
<colgroup>
<col class="label">
<col>
</colgroup>
<tbody valign="top"><tr>
<td class="label"><a class="fn-backref" href="#id7">[2]</a></td>
<td>其实 Markdown 扩展 <a class="reference external" href="https://pythonhosted.org/Markdown/extensions/attr_list.html">Attribute Lists</a> 功能也很强大，支持自定义标签 <cite>class</cite> 、 <cite>id</cite> 及其它属性等。不过本文重点在 reStructuredText，关于 Markdown 的一些扩展后面将会有专门的文章谈到。</td>
</tr></tbody>
</table>
</div>
<div class="section" id="class">
<h2><a class="toc-backref" href="#id14">Class 属性的花花世界</a></h2>
<p>OK，说了这么多，让我们来看一下引入 <cite>class</cite> 后可以对文档样式做哪些修改。前面已经说过，直接套用现成样式是快速简洁的最佳实践，对静态博客来说，现成样式最好是 <a class="reference external" href="http://getbootstrap.com">Bootstrap</a> 、 <a class="reference external" href="http://materializecss.com">Materialize</a> 、 <a class="reference external" href="https://semantic-ui.com">Semantic UI</a> 等流行的 CSS/JavaScript 框架。这样，只需给元素指定 <cite>class</cite> 即可获得样式，框架中没有包含的样式则需写少量的 CSS 代码。</p>
<p>以下例子均以本博客使用的 <a class="reference external" href="https://semantic-ui.com">Semantic UI</a> 框架为例。</p>
<div class="section" id="id9">
<h3><a class="toc-backref" href="#id15">样式套用</a></h3>
<ol class="arabic">
<li>
<p class="first"><strong>居中对齐的堆叠段落</strong></p>
<pre class="code rst"><a name="rest_code_5517bc04611745a5a35ae18589d74177-1"></a><span class="p">..</span> <span class="ow">class</span><span class="p">::</span> ui center aligned stacked segment
<a name="rest_code_5517bc04611745a5a35ae18589d74177-2"></a>
<a name="rest_code_5517bc04611745a5a35ae18589d74177-3"></a>游览瑞典北部的萨勒克国家公园，你可能需要花一些时间在广袤的拉帕谷。这片荒野经常被雨水浸透，山谷被高耸的山峰包围着，萨勒克国家公园是数百座山的家园，其中包括一些瑞典最高的山峰。而第一次来到山谷的游客可以安排一个向导来陪同，因为在拉帕谷没有指定的步道，所以请个导游也是非常必要的。
</pre>
<p class="ui center aligned stacked segment">游览瑞典北部的萨勒克国家公园，你可能需要花一些时间在广袤的拉帕谷。这片荒野经常被雨水浸透，山谷被高耸的山峰包围着，萨勒克国家公园是数百座山的家园，其中包括一些瑞典最高的山峰。而第一次来到山谷的游客可以安排一个向导来陪同，因为在拉帕谷没有指定的步道，所以请个导游也是非常必要的。</p>
</li>
<li>
<p class="first"><strong>带指向的基本蓝色标签</strong></p>
<pre class="code rst"><a name="rest_code_53d23841e70446fabdbe0516c0cf0acc-1"></a><span class="p">..</span> <span class="ow">class</span><span class="p">::</span> ui right pointing blue basic label
<a name="rest_code_53d23841e70446fabdbe0516c0cf0acc-2"></a>
<a name="rest_code_53d23841e70446fabdbe0516c0cf0acc-3"></a><span class="s">`Semantic UI`_</span>
</pre>
<p class="ui right pointing blue basic label"><a class="reference external" href="https://semantic-ui.com">Semantic UI</a></p>
</li>
<li>
<p class="first"><strong>Small-size 的圆形居中图片</strong></p>
<pre class="code rst"><a name="rest_code_0f1f260a1f4c4182893b228340a686a6-1"></a><span class="p">..</span> <span class="ow">image</span><span class="p">::</span> /images/avatar.png
<a name="rest_code_0f1f260a1f4c4182893b228340a686a6-2"></a>   <span class="nc">:class:</span> <span class="nf">ui centered small circular image</span>
</pre>
<img alt="/images/avatar.png" class="ui centered small circular image" src="../../images/avatar.png">
</li>
<li>
<p class="first"><strong>直观明了的情绪化消息</strong></p>
<pre class="code rst"><a name="rest_code_12fdd098afd541f5aaa96cbff5d1bbb3-1"></a><span class="p">..</span> <span class="ow">class</span><span class="p">::</span> ui info message
<a name="rest_code_12fdd098afd541f5aaa96cbff5d1bbb3-2"></a>
<a name="rest_code_12fdd098afd541f5aaa96cbff5d1bbb3-3"></a>你知道 Admonitions（告诫）也有类似的效果嘛？
<a name="rest_code_12fdd098afd541f5aaa96cbff5d1bbb3-4"></a>
<a name="rest_code_12fdd098afd541f5aaa96cbff5d1bbb3-5"></a><span class="p">..</span> <span class="ow">class</span><span class="p">::</span> ui negative message
<a name="rest_code_12fdd098afd541f5aaa96cbff5d1bbb3-6"></a>
<a name="rest_code_12fdd098afd541f5aaa96cbff5d1bbb3-7"></a>非常抱歉我们不能给您申请折扣！
</pre>
<p class="ui info message">你知道 Admonitions（告诫）也有类似的效果嘛？</p>
<p class="ui negative message">非常抱歉我们不能给您申请折扣！</p>
</li>
</ol>
<p>除此之外， <a class="reference external" href="https://semantic-ui.com">Semantic UI</a> 还有很多可以套用的样式，读者们感兴趣请自行去探索发现。</p>
</div>
<div class="section" id="strikethrough">
<h3><a class="toc-backref" href="#id16">Strikethrough（删除线）</a></h3>
<p>删除线算是写作过程中一项常见的需求。遗憾的是，reStructuredText 并不提供相应的语法。</p>
<p>如果你稍微懂点 CSS 的话，直接在样式表里加一行就可以：</p>
<pre class="code css"><a name="rest_code_d570789061d64e9293f025ea2ee4f5fb-1"></a><span class="p">.</span><span class="nc">strike</span> <span class="p">{</span><span class="k">text-decoration</span><span class="p">:</span> <span class="kc">line-through</span><span class="p">;}</span>
</pre>
<p>然后写文章的时候，段落套用已定义好的 <cite>strike</cite> class。</p>
<pre class="code rst"><a name="rest_code_730344c74d7c47fab482b3ed67fb5a86-1"></a><span class="p">..</span> <span class="ow">class</span><span class="p">::</span> strike
<a name="rest_code_730344c74d7c47fab482b3ed67fb5a86-2"></a>
<a name="rest_code_730344c74d7c47fab482b3ed67fb5a86-3"></a>我所说的都是错的，包括这一句。
</pre>
<p>个人后来又加了两行样式，于是就变成这样：</p>
<p class="strike">我所说的都是错的，包括这一句。</p>
<p>同理，想要修订效果也可以：</p>
<p class="amend">子非鱼，安知鱼之乐耶？</p>
</div>
<div class="section" id="columns">
<h3><a class="toc-backref" href="#id17">Columns（分栏）</a></h3>
<p>主流 CSS/JavaScript 框架均支持网格系统，就是俗称的“分栏”。 <a class="reference external" href="https://semantic-ui.com">Semantic UI</a> 的默认网格是 16 个，我们依旧以其为例，其它框架写法可能略有不同。</p>
<pre class="code rst"><a name="rest_code_f413530b37ba4d439e0a500603b82a8d-1"></a><span class="p">..</span> <span class="ow">container</span><span class="p">::</span> ui stackable grid
<a name="rest_code_f413530b37ba4d439e0a500603b82a8d-2"></a>
<a name="rest_code_f413530b37ba4d439e0a500603b82a8d-3"></a><span class="p">   ..</span> <span class="ow">class</span><span class="p">::</span> four wide column
<a name="rest_code_f413530b37ba4d439e0a500603b82a8d-4"></a>
<a name="rest_code_f413530b37ba4d439e0a500603b82a8d-5"></a>   文章段落
<a name="rest_code_f413530b37ba4d439e0a500603b82a8d-6"></a>
<a name="rest_code_f413530b37ba4d439e0a500603b82a8d-7"></a><span class="p">   ..</span> <span class="ow">class</span><span class="p">::</span> eight wide column
<a name="rest_code_f413530b37ba4d439e0a500603b82a8d-8"></a>
<a name="rest_code_f413530b37ba4d439e0a500603b82a8d-9"></a>   文章段落
<a name="rest_code_f413530b37ba4d439e0a500603b82a8d-10"></a>
<a name="rest_code_f413530b37ba4d439e0a500603b82a8d-11"></a><span class="p">   ..</span> <span class="ow">class</span><span class="p">::</span> four wide column
<a name="rest_code_f413530b37ba4d439e0a500603b82a8d-12"></a>
<a name="rest_code_f413530b37ba4d439e0a500603b82a8d-13"></a>   文章段落
</pre>
<p>渲染结果：</p>
<div class="ui stackable grid docutils container">
<p class="four wide column">阿比斯库国家公园是瑞典的一个占地 77 平方公里的国家公园，这里的自然风光迷人，聚集着北欧的野生动物，适合冬季冒险和夏季远足，也适合欣赏极光和午夜的太阳。冬天的阿比斯库就像极北之地，尤其是在国家公园里狗拉雪橇，棒呆了！而且公园还是看极光的最佳地点之一。</p>
<p class="eight wide column">皇后岛宫，又名卓宁霍姆宫，是瑞典王室的私人宫殿，于 1991 年被列入联合国教科文组织世界遗产名录。这座建于十七世纪的城堡不仅是当今保存最完好的皇家宫殿，也是全欧洲宫廷建筑中最具代表性的一座。再加上异国风情的中国宫殿、宫廷剧院和华丽的宫廷花园，更为皇城打造出无与伦比的整体感。</p>
<p class="four wide column">瓦萨沉船博物馆位于动物园岛上，主要展示沉船瓦萨号——世界上唯一保存完好的17世纪沉船。为了提防邻国的侵袭，古斯塔夫二世下令建造了这座瓦萨号战船。这座海事博物馆是斯堪的纳维亚地区最受欢迎的博物馆之一。博物馆中所有珍贵的藏品都是从海底打捞上来的。</p>
</div>
<p>其中 <cite>container</cite> 指令用来生成 div 块，其参数用来指定 class，而 <cite>stackable</cite> 意思是让网格支持响应式布局，在屏幕较窄的时候堆叠成一列显示，而不是保持固定的三栏（当然你也可以这么做）。是不是感觉棒呆了？ :)</p>
</div>
<div class="section" id="javascript">
<h3><a class="toc-backref" href="#id18">加一点点 JavaScript</a></h3>
<p>注意到一些 JavaScript 插件也是利用 <cite>class</cite> 定位的，那我们在博客模板头文件中引入 JavaScript 库后，再加上几行代码就可以实现一些互动效果。比如之前 <a class="reference external" href="../cong-markdown-dao-restructuredtext/">介绍 reStructuredText 文章</a> 中点击缩略图加载原图，就是 <cite>class</cite> + JavaScript 的典型应用。博客模板文件里其实只加了三行代码：</p>
<pre class="code html"><a name="rest_code_f3038b775e3641e5878a4bad89e143d2-1"></a><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<a name="rest_code_f3038b775e3641e5878a4bad89e143d2-2"></a>    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
<a name="rest_code_f3038b775e3641e5878a4bad89e143d2-3"></a>        <span class="nx">$</span><span class="p">(</span><span class="s1">'.image-reference'</span><span class="p">).</span><span class="nx">fancybox</span><span class="p">();</span>
<a name="rest_code_f3038b775e3641e5878a4bad89e143d2-4"></a>    <span class="p">});</span>
<a name="rest_code_f3038b775e3641e5878a4bad89e143d2-5"></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre>
<p>至于为何是 <cite>image-reference</cite> ，相信读者朋友们已经猜到了——不管是 <cite>image</cite> 还是 <cite>figure</cite> 指令，默认附加的 <cite>class</cite> 就是 <cite>image-reference</cite> ，这样写作插入图片的时候就不必自定义 class 了。</p>
<pre class="code rst"><a name="rest_code_4d7ce5627aba46aaa39b62346109fb7a-1"></a><span class="p">..</span> <span class="ow">figure</span><span class="p">::</span> /images/icarus.thumbnail.jpg
<a name="rest_code_4d7ce5627aba46aaa39b62346109fb7a-2"></a>   <span class="nc">:align:</span> <span class="nf">center</span>
<a name="rest_code_4d7ce5627aba46aaa39b62346109fb7a-3"></a>   <span class="nc">:target:</span> <span class="nf">/images/icarus.jpg</span>
</pre>
<p>渲染结果：</p>
<div class="figure align-center">
<a class="reference external image-reference" href="../../images/icarus.jpg"><img alt="/images/icarus.thumbnail.jpg" src="../../images/icarus.thumbnail.jpg"></a>
</div>
<p>这只是最简单的一个例子。如果觉得有必要的话，还可以继续引入其它 JavaScript 库，比如笔者最近看到的 <a class="reference external" href="https://mermaidjs.github.io/">mermaid</a> 。书写的时候也简单：就像所有正常段落一样写图表的描述，写完指定段落 <cite>class</cite> 为 <cite>mermaid</cite> 即可。</p>
</div>
</div>
<div class="section" id="id10">
<h2><a class="toc-backref" href="#id19">行内样式</a></h2>
<p>可能读者们已经注意到了，以上样式举例都是针对区块元素。如果想使用行内样式应该怎么办呢？答案是： 使用 <cite>role（角色）</cite> 指令。 <cite>role</cite> 对于行内内容和样式具有非常重要的作用，你可以使用内置的 <cite>role</cite> ，也可以自定义 <cite>role</cite> 。我们其实在 <a class="reference external" href="../cong-markdown-dao-restructuredtext/">第一篇文章</a> 行内数学公式的语法中已经使用过内置 <cite>role</cite> —— <cite>math</cite> 就是一个内置的 <cite>role</cite> 。对于内置 <cite>role</cite> 我们毋需再定义，直接使用即可。内置 <cite>role</cite> 中比较重要的还有 <cite>sup</cite> 和 <cite>sub</cite> ，即上标下标。</p>
<div class="section" id="id11">
<h3><a class="toc-backref" href="#id20">上标和下标</a></h3>
<p>直接贴语法用例：</p>
<pre class="code rst"><a name="rest_code_ab188f75feb74144925d57b3326d281f-1"></a>水分子式为：H\ <span class="na">:sub:</span><span class="nv">`2`</span>\ O；质能方程式：E = mc\ <span class="na">:sup:</span><span class="nv">`2`</span>；谁知道中文 <span class="na">:sup:</span><span class="nv">`啥时候`</span> 使用 <span class="na">:sub:</span><span class="nv">`上下标`</span>？
</pre>
<p>水分子式为：H<sub>2</sub>O；质能方程式：E = mc<sup>2</sup> ；谁知道中文 <sup>啥时候</sup> 使用 <sub>上下标</sub> ？</p>
<p><cite>role</cite> 的使用语法形如： <tt class="docutils literal"><span class="pre">:角色名:`内容`</span></tt> ，上例中 <tt class="docutils literal">\</tt> 是利用转义符号剔除公式字母间的空隙。</p>
</div>
<div class="section" id="html">
<h3><a class="toc-backref" href="#id21">行内 HTML</a></h3>
<p>reStructuredText 行内 HTML 的书写，则是利用一个特殊的内置 <cite>role</cite> —— <cite>raw</cite> ，并添加相应选项。</p>
<pre class="code rst"><a name="rest_code_3160f317f76343ccbd82a615dfbb941b-1"></a><span class="p">..</span> <span class="ow">role</span><span class="p">::</span> raw-html(raw)
<a name="rest_code_3160f317f76343ccbd82a615dfbb941b-2"></a>   <span class="nc">:format:</span> <span class="nf">html</span>
</pre>
<p>然后我们就可以使用 <cite>raw-html</cite> 了。比如强制断行：</p>
<pre class="code rst"><a name="rest_code_d2b99f07281d428fa37bfe981f7ab1af-1"></a><span class="na">:raw-html:</span><span class="nv">`&lt;br /&gt;`</span>
</pre>
<p>比如插入 <a class="reference external" href="https://semantic-ui.com">Semantic UI</a> 的内置图标：</p>
<pre class="code rst"><a name="rest_code_453e360619f94f3d8b239163c7fe69b9-1"></a><span class="na">:raw-html:</span><span class="nv">`&lt;i class="huge mail icon"&gt;&lt;/i&gt;`</span>
</pre>
<p><span class="raw-html"><i class="huge mail icon"></i></span></p>
<p>结合 <a class="reference internal" href="#id9">样式套用</a> 做一个漂亮的按钮：</p>
<pre class="code rst"><a name="rest_code_3b2070603a9a446780fc2a087428e2bd-1"></a><span class="p">..</span> <span class="ow">class</span><span class="p">::</span> ui blue button
<a name="rest_code_3b2070603a9a446780fc2a087428e2bd-2"></a>
<a name="rest_code_3b2070603a9a446780fc2a087428e2bd-3"></a><span class="na">:raw-html:</span><span class="nv">`&lt;i class="mail icon"&gt;&lt;/i&gt;`</span> 邮件
</pre>
<p class="ui blue button"><span class="raw-html"><i class="mail icon"></i></span> 邮件</p>
</div>
<div class="section" id="role">
<h3><a class="toc-backref" href="#id22">自定义 role</a></h3>
<p>你也可以自定义 role，当然为了让这些 role 在网页中有意义（行内样式），我们最好事先给它们添加 CSS 样式。以上文中定义过的 <cite>strike</cite> 和 <cite>amend</cite> 来举例：</p>
<pre class="code rst"><a name="rest_code_62987bc0e38f49b3bdfa98e393c279bc-1"></a><span class="p">..</span> <span class="ow">role</span><span class="p">::</span> strike
<a name="rest_code_62987bc0e38f49b3bdfa98e393c279bc-2"></a><span class="p">..</span> <span class="ow">role</span><span class="p">::</span> amend
</pre>
<p>然后就可以在文档中引用了：</p>
<pre class="code rst"><a name="rest_code_83b172a027f34c298e27a03407b2f00b-1"></a>鸟宿池边树，僧 <span class="na">:strike:</span><span class="nv">`敲`</span> <span class="na">:amend:</span><span class="nv">`推`</span> 月下门。
</pre>
<p>鸟宿池边树，僧 <span class="strike">敲</span> <span class="amend">推</span> 月下门。</p>
<p>添加行内按钮也是可以的：</p>
<pre class="code rst"><a name="rest_code_c3250cdbda3144b884dec9ca8c9c4fa6-1"></a><span class="p">..</span> <span class="ow">role</span><span class="p">::</span> ibtn
<a name="rest_code_c3250cdbda3144b884dec9ca8c9c4fa6-2"></a>   <span class="nc">:class:</span> <span class="nf">ui mini basic green button</span>
<a name="rest_code_c3250cdbda3144b884dec9ca8c9c4fa6-3"></a>
<a name="rest_code_c3250cdbda3144b884dec9ca8c9c4fa6-4"></a>点击 <span class="na">:ibtn:</span><span class="nv">`阅读`</span> 继续。
</pre>
<p>点击 <span class="ui mini basic green button">阅读</span> 继续。</p>
</div>
</div>
<div class="section" id="id12">
<h2><a class="toc-backref" href="#id23">结语</a></h2>
<p>尽管使用 reStructuredText 意味着更加关注文章内容，但这并不意味着当有样式需求的时候，无法得到满足。本文从文档写作需求出发，基本上全面阐述了应用样式的思路和经验，包含文章分栏、图片居中、删除线、上标下标等等。如果你有更好的静态博客写作实践，欢迎在评论区进行讨论。下一篇文章将会试用和探讨 reStructuredText 的文档导出功能，敬请期待～</p>
</div>
</div>
        </div>
    </div>
    <div class="post-info">
        <p>文章链接：<a href="https://macplay.github.io/posts/cong-markdown-dao-restructuredtextsan/" target="_blank">https://macplay.github.io/posts/cong-markdown-dao-restructuredtextsan/</a></p>
        <p>发布/更新于：
            <time datetime="2017-10-11 15:26:32 UTC+08:00" itemprop="dateModified" title="2017-10-11 15:26">2017-10-11 15:26
            </time></p>
        <p>版权声明：如无特别说明，本站文章均遵循 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">CC BY-NC-SA 4.0</a> 协议，转载请注明作者及出处。</p>
    </div>
        <div class="post-navigation no-print">
        <div class="ui huge secondary stackable menu">
            <a class="post-nav-item post-nav-previous item" href="../gei-bo-ke-wen-zhang-tian-jia-da-yin-gong-neng-zhi-chi/" title="Previous post"><i class="angle double left icon"></i> 给博客文章添加打印功能支持</a>
        <div class="right menu">
            <a class="post-nav-item post-nav-next item" href="../zai-markdown-ji-rst-wen-dang-zhong-shi-yong-dai-ma-bu-quan-gong-neng/" title="Next post">在 Markdown 及 rst 文档中使用代码补全功能 <i class="angle double right icon"></i></a>
        </div>
        </div>
    </div>

        <div id="gitalk-container" class="comments-block no-print"></div>
</div>
                    </div>
                </main><div class="footer extra-block no-print">
        <a href="../../pages/you-qing-lian-jie/">友情链接</a>
    </div>
            <div class="footer social-link no-print">
            <a href="https://github.com/ashfinal" target="_blank"><i class="grey large github icon"></i></a>
            <a href="http://weibo.com/ashfinal/" target="_blank"><i class="grey large weibo icon"></i></a>
            <a href="mailto://ashfinal@sina.cn" target="_blank"><i class="grey large mail icon"></i></a>
            </div>
        <div class="ui basic center aligned segment no-print">Contents © 2018         <a href="mailto:ashfinal@sina.cn">ashfinal</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         </div>

            </div>
            <div class="computer only three wide column no-print">
                <div id="right-side">
                </div>
            </div>
        </div>

        <!-- GoStats JavaScript Based Code -->
        <script type="text/javascript">(function(c,o,m,p,u,t,e){
        c['GoStatsObject']=u;c[u]=c[u]||function(){(c[u].q=c[u].q||[]).push(arguments)},
        c[u].l=1*new Date();t=o.createElement(m);t.async=1;t.src=p;
        e=o.getElementsByTagName(m)[0];e.parentNode.insertBefore(t,e);
        })(window,document,'script','//www.gostats.org/5.js','go');
        go('init',100479892,{'img_counter_type':5,'img_image_type':1});go('send');</script><!-- End GoStats JavaScript Based Code --><script type="text/javascript" src="../../assets/js/jquery-3.2.1.min.js"></script><script type="text/javascript" src="../../assets/js/semantic.min.js"></script><script type="text/javascript" src="../../assets/js/jquery.fancybox.min.js"></script><script type="text/javascript" src="../../assets/js/cookie.min.js"></script><script>
            $(document).ready(function(){
                $(".ui.dropdown").dropdown();
                $('.ui.accordion').accordion();
                var newstr = $('.cookie.nag').text();
                $('.cookie.nag').nag({
                    key: 'globalnotice',
                    value: newstr
                  });
                $('.image-reference').fancybox();
            });
        </script><script src="../../assets/js/gitalk.min.js"></script><script>
        const gitalk = new Gitalk({
            clientID: '12fcda845097d895a24c',
            clientSecret: '50ed60cde5f40897205197b4265b474cefbedc49',
            repo: 'macplay.github.io',
            owner: 'macplay',
            admin: ['macplay', 'ashfinal'],
            // facebook-like distraction free mode
            distractionFreeMode: false
        })
        gitalk.render('gitalk-container')
    </script>
</body>
</html>
