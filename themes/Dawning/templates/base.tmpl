{# -*- coding: utf-8 -*- #}

{% import 'math_helper.tmpl' as math with context %}
{% import 'base_helper.tmpl' as base with context %}
{% import 'base_header.tmpl' as header with context %}
{% import 'base_footer.tmpl' as footer with context %}
{{ set_locale(lang) }}

<!DOCTYPE html>
<html lang="{{ lang }}">
    <head>
    {{ base.html_headstart() }}

    {{ math.math_styles_ifposts(posts) }}

    {% block extra_head %}
    {% endblock extra_head %}
    </head>
    <body>
        <div class="ui grid">
            <div class="computer only three wide column no-print">
                <div id="left-side">
                    {% block left_side %}
                    {% endblock left_side %}
                </div>
            </div>
            <div class="ten wide computer sixteen wide tablet sixteen wide mobile column">
                {{ header.html_header() }}
                <main id="main">
                    <div id="main-content">
                        {% block main_content %}
                        {% endblock main_content %}
                    </div>
                </main>
                {{ footer.html_footer() }}
            </div>
            <div class="computer only three wide column no-print">
                <div id="right-side">
                    {% block right_side %}
                    {% endblock right_side %}
                </div>
            </div>
        </div>

        <div class="ui modal blogroll">
            <div class="ui center aligned header">友情链接</div>
            <div class="ui center aligned container">
                {% if dw_blogroll %}
                    {% for item in dw_blogroll %}
                    <a href="{{ item["website"] }}" class="ui basic small violet button siteitem" data-tooltip="{{ item["description"] }}" data-position="top center">{{ item["name"] }}</a>
                    {% endfor %}
                {% endif %}
            </div>
        </div>

        <script type="text/javascript" src="/assets/js/jquery-3.2.1.min.js"></script>
        <script type="text/javascript" src="/assets/js/semantic.min.js"></script>
        <script type="text/javascript" src="/assets/js/jquery.fancybox.min.js"></script>
        <script type="text/javascript" src="/assets/js/cookie.min.js"></script>

        <script>
            $(document).ready(function(){
                $(".ui.dropdown").dropdown();
                $('.ui.accordion').accordion();
                var newstr = $('.cookie.nag').text();
                $('.cookie.nag')
                  .nag({
                    key      : 'globalnotice',
                    value    : newstr
                  })
                ;
                $('.image-reference').fancybox();
            });
        </script>

        {{ math.math_scripts_ifposts(posts) }}

        {% block extra_js %}
        {% endblock extra_js %}
    </body>
</html>
